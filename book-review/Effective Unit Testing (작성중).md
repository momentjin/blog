# Effective Unit Testing
> 한빛미디어, 라쎼 코스켈라, 이복연

#### 이 책을 읽은 이유
테스트의 'ㅌ'도 몰라서 이번에 확실하게 익히고자 이 책을 읽었습니다. 모든 내용을 정리하려고 중요하다고 생각하는 부분만 별도로 뽑아 정리했습니다.

## Part1. 기반 다지기

### 테스트의 가치

#### 테스트는 생산성을 높여준다.
생산성에 영향을 주는 직접적인 요소로 `피드백 주기`와 `디버깅 시간`이 있다. 올바른 테스트는 빠른 피드백을 줄 수 있고, 디버깅에 할당하는 시간을 최소한으로 유지할 수 있도록 도움을 준다.

##### 퀄리티가 낮은 테스트 코드는 오히려 생산성의 저하를 초래한다.
- 테스트 실행 속도가 낮으면, 변경사항을 검증하고 확인하기 위해 기다리는 시간이 길어진다.
- 가독성이 떨어지면, 테스트 원인 파익이 어렵다.
- 테스트 코드를 분석하기 위해 또 다른 시간을 투자해야 한다. (디버깅 등)

### 좋은 테스트란?
좋은 테스트란, 테스트의 대상이 `명확`하고, 그 결과를 `신뢰`할 수 있으며, 문제 발생시 쉽게 원인을 찾을 수 있는 `가독성`을 가진 테스트를 말한다.

#### 가독성, 유지보수성
이해와 수정이 어려운 테스트 코드에서 오류가 생긴다면, 오류의 원인을 찾는데 많은 시간을 쏟을 확률이 높다.

#### 분명한 의도
테스트의 이름만 보고도 무엇을 테스트하려는지 명확히 해야한다. 테스트가 실패했을 때, 무엇이 실패했는지 쉽게 판단할 수 있다. <br>

#### 테스트의 독립성
테스트코드가 아래의 요소에 독립되어야 좋은 테스트다. 여러 요소에 의존하는 테스트는 불규칙한 결과를 낳고, 관리하는 것도 어렵다.

- Time
- Infra
- Networking
- Pre-existing Data
- Concurrency (동시성)
- Randomness (임의성)
- Persistency (영속성)

##### 테스트 코드의 독립성을 유지하기 위한 방법
- 서드파티 라이브러리와의 종속성을 제거한다.
- 테스트에 필요한 리소스는 테스트 코드와 같은 위치에 둔다.
- 테스트가 사용할 자원을 직접 생성하도록 한다.
- 테스트가 필요한 문맥을 직접 설정하게 한다. (다른 테스트에 의존하지 않는다.) 
- 영속성이 필요한 통합테스트는 인메모리 데이터베이스를 활용한다.
- 비동기식 테스트의 경우, 전문 테스트 그룹에 맡긴다.


### 테스트 더블

~~이론으로만 배웠더니 실전에서 어떻게 적용해야 할지 감이 오지 않음. 실전에서 활용해보면 더 잘 정리할 수 있을 것 같아서 나중에 작성할 예정~~

테스트 더블이란, 스텁/가짜객체/Mock객체 등의 개념들을 통칭하는 용어이다.

---

## Part2. 테스트 냄새

읽는 중..




